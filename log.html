
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Login & Address</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"/>
  <style>
    body { 
        background-color: rgb(244, 239, 240); 
        font-family: Arial, sans-serif;
     }
  

header {
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    justify-content: space-between;
    padding: 15px 30px;
    box-shadow: 0 0 20px rgba(0,0,0,0.3);
}

header .logo {
    font-size: 32px;
    color: black;
    text-decoration: none;
    font-weight: bold;
}

 header .logo span {
    color: rgb(179, 46, 110);
}

 header ul {
    list-style: none;
    display: flex;
    flex-wrap: wrap;
    gap: 10px;
}

 header ul li {
    padding: 5px 10px;
}

 header ul li a {
    color: black;
    text-decoration: none;
}

header ul li a:hover {
    color: rgb(242, 24, 96);
}

 header p a {
    color: black;
    text-decoration: none;
    cursor: pointer;
    padding: 8px 20px;
    border: 1px solid rgb(237, 144, 160);
    border-radius: 30px;
    transition: 0.3s;
}

header p a:hover {
    color: white;
    background: rgb(237, 144, 160);
}

.circle {
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgb(237, 144, 160);
    clip-path: circle(450px at left -230px);
    z-index: -1;
}

.texts {
    display: flex;
    flex-wrap: wrap;
    padding: 20px;
}

 .texts h1 {
    font-size: 5vw;
    color: #6a6666;
    flex: 1 1 100%;
    margin: 15px 15px;
}

 .texts h1 span {
    color: rgb(179, 46, 110);
}

.texts p {

    flex: 1 1 100%;
    max-width: 650px;
    line-height: 1.6;
    text-align: justify;
    margin: 15px 15px;
}
h1{
  text-align: center;
  color: #9a8f8f;
}
    .form, .btn { 
        margin: 50px auto;
         padding: 30px; 
         width: 400px;
          border-radius: 25px; 
          background-color: rgb(238, 100, 123);
           color: white;
         }
    .form input, .btn input, .btn textarea {
         width: 100%;
          padding: 10px; 
          margin: 10px 0;
           border-radius: 20px;
            border: none; 
            outline: none; 
        }
    .form button, .btn button { 
        padding: 10px 20px;
         background: rgb(201, 41, 68);
          color: white; 
          border: none;
           border-radius: 5px; 
           margin-right: 10px;
            cursor: pointer; 
        }
    .form button:hover, .btn button:hover {
         background: rgb(237, 144, 160); 
        }
    h1, legend { 
        text-align: center;
         color: white;
         }
        /* footer */
    .footer {
    background: rgb(237, 144, 160);
    padding: 50px 20px;
}

.footer .main2 {
    max-width: 1170px;
    margin: auto;
}

.row {
    display: flex;
    flex-wrap: wrap;
    gap: 20px;
}

.footer_col {
    flex: 1 1 250px;
}

.footer_col h4 {
    font-size: 18px;
    color: black;
    text-transform: capitalize;
    margin-bottom: 30px;
    font-weight: 500;
    position: relative;
}

.footer_col h4::after {
    content: '';
    position: absolute;
    left: 0;
    bottom: -10px;
    height: 2px;
    /* background: rgba(219, 38, 171, 0.6); */
    width: 50px;
}

.footer_col ul {
    list-style: none;
    padding: 0;
}

.footer_col ul li {
    margin-bottom: 20px;
}

.footer_col ul li a {
    text-decoration: none;
    color: white;
}

.footer_col .social img {
    width: 20px;
    margin: 5px;
}

#icon1 {
    color: black;
}

  </style>
</head>
<body>
  <header>
            <div class="circle"></div>
            <div class="circles"></div>
            <a href="#" class="logo">Pink<span>Shop</span></a>
            <ul>
                <li><a href="#" onclick="toggleCartSidebar()"><i class="fa-solid fa-cart-shopping"></i> Cart (<span id="cartCount">0</span>)</a></li>
                <li><a href="index.html"><i class="fa-solid fa-house" id="icon1"></i> Home</a></li>
                <li><a href="#home"><i class="fa-solid fa-user" id="icon1"></i>   About us</a></li>
                <li><a href="#products"><i class="fa-solid fa-cart-shopping" id="icon1"></i> Products</a></li>
                <li><a href="#services"><i class="fa-solid fa-screwdriver-wrench" id="icon1"></i> Services</a></li>
                
            </ul>
            <p><a href="log.html">Login</a></p>
        </header>


<form class="form" id="loginForm">
  <h1>Login / Register</h1>
  <input type="email" name="email" placeholder="Email" required />
  <input type="password" name="password" placeholder="Password" required />
  <button type="submit">Login</button>
  <button type="button" onclick="registerUser()">Register</button>
</form>

<div class="btn">
  <legend>Address Section</legend>

  <!-- Current Address Box -->
  <div id="currentAddressBox" style="margin-bottom: 20px;">
    <button onclick="showCurrentAddress()">Current Address</button>
    <div id="currentAddress" style="margin-top: 10px; background: #fbdde2; padding: 15px; border-radius: 10px;"></div>
  </div>

  <!-- Add Address Form -->
  <div>
    <button onclick="toggleAddForm()">Add Address</button>
    <div id="addAddressForm" style="display:none; margin-top:10px;">
      <input type="text" id="username" placeholder="Enter your name" />
      <input type="tel" id="userphone" placeholder="Enter your phone number" />
      <textarea id="useraddress" placeholder="Enter your address"></textarea>
      <button onclick="saveAddress()">Save Address</button>
    </div>
  </div>

  <!-- Confirm Button -->
  <div style="margin-top: 20px;">
    <button onclick="confirmDetails()">Confirm Details</button>
  </div>
</div>
                
  <!-- footer -->
                 
  <footer class="footer" id="services">
    <div class="main2">
        <div class="row">
            <div class="footer_col">
                <h4>Company</h4>
                <ul>
                    <li><a href="#">about us</a></li>
                    <li><a href="#">our services</a></li>
                    <li><a href="#">privacy policy</a></li>
                    <li><a href="#">affiliate program</a></li>
                </ul>
            </div>

            <div class="footer_col">
                <h4>Get Help</h4>
                <ul>
                    <li><a href="#">FAQ</a></li>
                    <li><a href="#">shiping</a></li>
                    <li><a href="#">returns</a></li>
                    <li><a href="#">payment options</a></li>
                </ul>
            </div>

            <div class="footer_col">
                <h4>Online</h4>
                <ul>
                    <li><a href="#">watch</a></li>
                    <li><a href="#">bag</a></li>
                    <li><a href="#">shoes</a></li>
                    <li><a href="#">dress</a></li>
                </ul>
            </div>

            <div class="footer_col">
                <h4>Follower us</h4>
                <div class="social">
                    <a href="#"><img src="https://static.vecteezy.com/system/resources/previews/020/964/386/original/facebook-circle-icon-for-web-design-free-png.png"></a>
                    <a href="#"><img src="https://img.freepik.com/free-psd/google-icon-isolated-3d-render-illustration_47987-9777.jpg?w=2000&t=st=1695998360~exp=1695998960~hmac=90cd6acb6bb94223c21f2321b231ff376e6a5336d5249ba90c12c94832e727a3"></a>
                    <a href="#"><img src="https://png.pngtree.com/png-clipart/20221019/original/pngtree-twitter-social-media-round-icon-png-image_8704823.png"></a>
                    <a href="#"><img src="https://cdn.pixabay.com/photo/2021/06/15/12/14/instagram-6338392_1280.png"></a>
                </div>               
                    
                
            </div>
        </div>
    </div>
</footer>

<script>
function registerUser() {
  const email = document.querySelector("input[name='email']").value;
  const password = document.querySelector("input[name='password']").value;

  if (!email || !password) {
    alert("Please enter email and password");
    return;
  }

  const users = JSON.parse(localStorage.getItem("users")) || [];
  const userExists = users.find(user => user.email === email);

  if (userExists) {
    alert("User already exists!");
  } else {
    users.push({ email, password });
    localStorage.setItem("users", JSON.stringify(users));
    alert("Registration successful!");
  }
}

document.getElementById("loginForm").addEventListener("submit", function (e) {
  e.preventDefault();
  const email = e.target.email.value;
  const password = e.target.password.value;

  const users = JSON.parse(localStorage.getItem("users")) || [];
  const loggedUser = users.find(user => user.email === email && user.password === password);

  if (loggedUser) {
    localStorage.setItem("loggedInUser", JSON.stringify(loggedUser));
    alert("Login successful!");
  } else {
    alert("Invalid login details!");
  }
});

// toggle Add Address form
function toggleAddForm() {
  const form = document.getElementById("addAddressForm");
  form.style.display = form.style.display === "none" ? "block" : "none";
}

// Save multiple addresses per user
function saveAddress() {
  const name = document.getElementById("username").value;
  const phone = document.getElementById("userphone").value;
  const address = document.getElementById("useraddress").value;
  const loggedUser = JSON.parse(localStorage.getItem("loggedInUser"));

  if (!loggedUser) {
    alert("Please login first");
    return;
  }

  const allUserAddresses = JSON.parse(localStorage.getItem("allUserAddresses")) || [];

  let userEntry = allUserAddresses.find(user => user.email === loggedUser.email);

  if (!userEntry) {
    userEntry = { email: loggedUser.email, addresses: [] };
    allUserAddresses.push(userEntry);
  }

  const newAddress = { name, phone, address };
  userEntry.addresses.push(newAddress);

  // Save
  localStorage.setItem("allUserAddresses", JSON.stringify(allUserAddresses));
  localStorage.setItem("userData", JSON.stringify(newAddress)); // also make it current

  alert("Address added and set as current!");
  showCurrentAddress();
}

function showCurrentAddress() {
  const userData = JSON.parse(localStorage.getItem("userData"));
  if (!userData) {
    document.getElementById("currentAddress").innerText = "No address selected.";
    return;
  }

  document.getElementById("currentAddress").innerHTML = `
    <p><strong>Name:</strong> ${userData.name}</p>
    <p><strong>Phone:</strong> ${userData.phone}</p>
    <p><strong>Address:</strong> ${userData.address}</p>
  `;
}

// Confirm and go to profile
function confirmDetails() {
  const userData = localStorage.getItem("userData");
  if (!userData) {
    alert("Please add and select an address first.");
    return;
  }

  window.location.href = "user-profile.html";
}
</script>


</body>
</html>
